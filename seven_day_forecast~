#!/bin/bash

daySum=$(jq '.daily.summary' dkSky.json)
printf "<div class="hours">"
printf "$daySum"
printf "</div>"

i=1
while [ $i -lt 8 ]
do

tempMax=$(jq --arg i "$i" '.daily.data[$i|tonumber]|.temperatureMax' dkSky.json)
tempMin=$(jq --arg i "$i" '.daily.data[$i|tonumber]|.temperatureMin' dkSky.json)
sunDown=$(jq --arg i "$i" '.daily.data[$i|tonumber]|.sunsetTime' dkSky.json)
sunUp=$(jq --arg i "$i" '.daily.data[$i|tonumber]|.sunriseTime' dkSky.json)
curDay=$(jq --arg i "$i" '.daily.data[$i|tonumber]|.time' dkSky.json)
sum=$(jq --arg i "$i" '.daily.data[$i|tonumber]|.summary' dkSky.json)

printf "<div class="days">"
<span>
date "+%A " --date=@$curDay
</span>
printf "</br>"
printf "$sum\n"
printf "</br>"

printf  "High for the Day: %.0f\n" $tempMax
printf "</br>"

printf "Overnight: %.0f\n" $tempMin
printf "</br>"

printf "Sunrise: "
date "+ %H:%M:%S" --date=@$sunUp
printf "</br>"
printf "Sunset: "
date "+ %H:%M:%S" --date=@$sunDown
printf "</p></div>"

i=$[$i+1]
done

